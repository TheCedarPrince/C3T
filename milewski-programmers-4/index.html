<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <!--WEAVE SYNTAX HIGHLIGHTING--> <link rel=stylesheet  href="/C3T/libs/highlight/github.min.css"> <link href="/C3T/css/franklin.css" rel=stylesheet > <link href="/C3T/css/vela.css" rel=stylesheet > <script src="/C3T/libs/vela/jquery.min.js"></script> <link rel=icon  href="/C3T/assets/favicon.png"> <script src="/C3T/libs/mermaid/mermaid.min.js"></script> <script>mermaid.initialize({startOnLoad:true});</script> <!--WEAVE DOCUMENT INSERTION--> <link rel=stylesheet  href="/C3T/css/weave.css"> <link rel=stylesheet  href="/C3T/libs/katex/katex.min.css"> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}, TeX: { equationNumbers: { autoNumber: "AMS" } } }); </script> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> <title></title> <div class="main-nav slideout-menu slideout-menu-left" id=menu > <div class=flex-container > <span class=sidebar-brand > <h3 style='font-size: 25px'>üê± C3T üê±</h3> </span> </div> <!--LUNR SEARCH BOX--> <script src="/C3T/libs/lunr/lunr.min.js"></script> <script src="/C3T/libs/lunr/lunr_index.js"></script> <script src="/C3T/libs/lunr/lunrclient.min.js"></script> <style> .result-title a { text-decoration: none; } .result-title a:hover { text-decoration: underline; } .result-preview { color: #808080; } .resultCount { color: #808080; } .result-query { font-weight: bold; } #lunrSearchForm { margin-top: 1em; } </style> <nav class=sidebar-nav > <ul class=metismenu  id=metismenu  > <li><a href="/C3T/">Home</a> <li> <form id=lunrSearchForm  name=lunrSearchForm > <input class=search-input  name=q  placeholder="Enter search term" type=text > <input type=submit  value=Search  formaction="/C3T/search/index.html"> </form> <li><a href="/C3T/" class=has-arrow >Resources</a> <ul> <li><a href="/C3T/resources/">Resources Overview</a> <li><a href="/C3T/" class=has-arrow >Books</a> <ul> <li><a href="/C3T/books/">Books Resource Guide</a> <li><a href="/C3T/" class=has-arrow >Category Theory for Programmers</a> <ul> <li><a href="/C3T/milewski-programmers-1">Chapter 1</a> <li><a href="/C3T/milewski-programmers-2">Chapter 2</a> <li><a href="/C3T/milewski-programmers-3">Chapter 3</a> <li><a href="/C3T/milewski-programmers-4">Chapter 4</a> </ul> <li><a href="/C3T/spivak-sciences/">Category Theory for the Sciences</a> </ul> <li><a href="/C3T/" class=has-arrow >Software</a> <ul> <li><a href="/C3T/software/">Software Resource Guide</a> </ul> </ul> </ul> </nav> </div> <main id=panel  class="slidout-panel slideout-panel-left"> <div class="toggle-button hamburger hamburger--spin"> <div class=hamburger-box > <div class=hamburger-inner ></div> </div> </div> <h1 class="page title"></h1> <hr> <div class=franklin-content > <div class ="container"> <div class = "row"> <div class = "col-md-12 twelve columns"> <div class=title > </div> <h3>Kleisli Categories</h3> <p><strong>NOTE: I have decided to skip the Haskell portion of this chapter being Section 4.2 as there was not a full implementation of the Writer Monad and Kleisli Category examples provided. As I am not an expert in Haskell, I have decided to move forward to focus on the math over Haskell. If you have an implementation, feel free to open a PR on this repo&#33;</strong></p> <blockquote> <p>What is an example of a non-pure function?</p> </blockquote> <pre class='hljl'>
<span class='hljl-kd'>global</span><span class='hljl-t'> </span><span class='hljl-n'>logger</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;&quot;</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>negate</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>Bool</span><span class='hljl-p'>)</span><span class='hljl-t'> 
     </span><span class='hljl-kd'>global</span><span class='hljl-t'> </span><span class='hljl-n'>logger</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Negated!&quot;</span><span class='hljl-t'>
     </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-n'>x</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
negate &#40;generic function with 1 method&#41;
</pre> <p>This function also modifies <code>logger</code> as a side effect and as such <code>negate</code> is a non-pure function.</p> <blockquote> <p>What is the Writer Category?</p> </blockquote> <p>The Writer Category is a category that allows one to track the execution of functions.</p> <blockquote> <p>What are examples of the Writer Category involving Strings?</p> </blockquote> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>toUpper</span><span class='hljl-p'>(</span><span class='hljl-n'>str</span><span class='hljl-oB'>::</span><span class='hljl-n'>String</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>String</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>uppercase</span><span class='hljl-p'>(</span><span class='hljl-n'>str</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;toUpper &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
toUpper &#40;generic function with 1 method&#41;
</pre> <pre class='hljl'>
<span class='hljl-nf'>words</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-oB'>::</span><span class='hljl-n'>String</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-n'>String</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>string</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-nf'>split</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>)),</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;toWords &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>toWords</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-oB'>::</span><span class='hljl-n'>String</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-n'>String</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>words</span><span class='hljl-p'>(</span><span class='hljl-n'>w</span><span class='hljl-p'>)</span>
</pre> <pre class=output >
toWords &#40;generic function with 1 method&#41;
</pre> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>process</span><span class='hljl-p'>(</span><span class='hljl-n'>sentence</span><span class='hljl-oB'>::</span><span class='hljl-n'>String</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-n'>String</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'>
	</span><span class='hljl-n'>p1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>toUpper</span><span class='hljl-p'>(</span><span class='hljl-n'>sentence</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-n'>p2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>toWords</span><span class='hljl-p'>(</span><span class='hljl-nf'>first</span><span class='hljl-p'>(</span><span class='hljl-n'>p1</span><span class='hljl-p'>))</span><span class='hljl-t'>
	</span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>first</span><span class='hljl-p'>(</span><span class='hljl-n'>p2</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>.*</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
process &#40;generic function with 1 method&#41;
</pre> <blockquote> <p>What are examples of the Writer Category involving Numerics?</p> </blockquote> <pre class='hljl'>
<span class='hljl-nf'>isEven</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>Int</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>%</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;isEven &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>negate</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>Bool</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-oB'>!</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Negated &quot;</span><span class='hljl-p'>]</span>
</pre> <pre class=output >
negate &#40;generic function with 1 method&#41;
</pre> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>isOdd</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>Int</span><span class='hljl-p'>)</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Vector</span><span class='hljl-p'>{</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-n'>String</span><span class='hljl-p'>}}</span><span class='hljl-t'>
    </span><span class='hljl-n'>p1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>isEven</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>p2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>negate</span><span class='hljl-p'>(</span><span class='hljl-nf'>first</span><span class='hljl-p'>(</span><span class='hljl-n'>p1</span><span class='hljl-p'>))</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
isOdd &#40;generic function with 1 method&#41;
</pre> <blockquote> <p>What is a generic composition function of the Writer Category?</p> </blockquote> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>compose</span><span class='hljl-p'>(</span><span class='hljl-n'>f</span><span class='hljl-oB'>::</span><span class='hljl-n'>Function</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-oB'>::</span><span class='hljl-n'>Function</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>_compose</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>f</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>f</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>p1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>p2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>g</span><span class='hljl-p'>(</span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>])</span><span class='hljl-t'>

        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
compose &#40;generic function with 1 method&#41;
</pre> <blockquote> <p>What is a generic identity function of the Writer Category?</p> </blockquote> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>identity</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;&quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
identity &#40;generic function with 1 method&#41;
</pre> <blockquote> <p>What are Kleisli Categories?</p> </blockquote> <p>A working definition is that it is a category that has as objects the types of the underlying programming language.</p> <blockquote> <p>What are the characteristics of Kleisli Categories?</p> </blockquote> <ul> <li><p>It is based on the <em>writer monad</em></p> <li><p>Its objects are the types of an programming language</p> <li><p>Kleisli categories define their own compositions</p> </ul> <blockquote> <p>What are examples of morphisms in the Kleisli Category?</p> </blockquote> <p>An arrow from some type <span class=math >$A$</span> to some type derived from <span class=math >$B$</span>.</p> <blockquote> <p>What is a Writer Monad?</p> </blockquote> <p>A writer monad is used for logging or tracing the execution of functions. General process to embed effects in pure computations.</p> <blockquote> <p>What do Writer Monads do?</p> </blockquote> <p>They log or trace the execution of functions as well as execute a procedure.</p> <blockquote> <p>What is a partial function?</p> </blockquote> <p>A function that is not defined for all possible values of its argument.</p> <h3>Challenge</h3> <ol> <li><p>Construct the Kleisli category for partial functions &#40;define composition and identity&#41;.</p> </ol> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>compose</span><span class='hljl-p'>(</span><span class='hljl-n'>f</span><span class='hljl-oB'>::</span><span class='hljl-n'>Function</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-oB'>::</span><span class='hljl-n'>Function</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>_compose</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>f</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>f</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>p1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>p2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>g</span><span class='hljl-p'>(</span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>])</span><span class='hljl-t'>

        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
compose &#40;generic function with 1 method&#41;
</pre> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>identity</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>x</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;&quot;</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
identity &#40;generic function with 1 method&#41;
</pre> <ol start=2 > <li><p>Implement the embellished function <code>safe_reciprocal</code> that returns a valid reciprocal of its argument, if it‚Äôs different from zero.</p> </ol> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>safe_reciprocal</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>!=</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.0</span><span class='hljl-t'> </span><span class='hljl-oB'>?</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nfB'>1.0</span><span class='hljl-t'> </span><span class='hljl-oB'>/</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Safe Reciprocal &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>:</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>Real</span><span class='hljl-p'>[],</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Safe Reciprocal &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
safe_reciprocal &#40;generic function with 1 method&#41;
</pre> <ol start=3 > <li><p>Compose the functions <code>safe_root</code> and <code>safe_reciprocal</code> to implement <code>safe_root_reciprocal</code> that calculates <code>sqrt&#40;1/x&#41;</code> whenever possible.</p> </ol> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>safe_root</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;=</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.0</span><span class='hljl-t'> </span><span class='hljl-oB'>?</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>sqrt</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Safe Root &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>:</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>Real</span><span class='hljl-p'>[],</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;Safe Root &quot;</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
safe_root &#40;generic function with 1 method&#41;
</pre> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>safe_root_reciprocal</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
	</span><span class='hljl-n'>p1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>safe_root</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>p2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>identity</span><span class='hljl-p'>(</span><span class='hljl-nf'>safe_reciprocal</span><span class='hljl-p'>(</span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]))</span><span class='hljl-t'>

        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>]]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class=output >
safe_root_reciprocal &#40;generic function with 1 method&#41;
</pre> <HR/> <div class=footer > <p> Published from <a href=milewski-programmers-4.jmd >milewski-programmers-4.jmd</a> using <a href="http://github.com/JunoLab/Weave.jl">Weave.jl</a> v0.10.10 on 2022-02-18. </p> </div> </div> </div> </div> <div class=page-foot > <div class=copyright > &copy; Jacob Zelko. Last modified: February 18, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </main> <script src="/C3T/libs/vela/metisMenu.min.js"></script> <script src="/C3T/libs/vela/slideout.min.js"></script> <script src="/C3T/libs/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: ' '});</script> <script src="/C3T/libs/katex/katex.min.js"></script> <script src="/C3T/libs/katex/auto-render.min.js"></script> <script>renderMathInElement(document.body)</script>